import{M as _}from"./ManagerSideBar-eQhEIkbG.js";import{_ as v,c as l,a as t,d as r,g,r as m,w as u,e as x,v as k,j as S,F as T,k as y,n as p,t as o,h as d,o as c,i as b}from"./index-C2DzRLYs.js";const w={components:{ManagerSideBar:_},data(){return{page:0,totalPages:0,staffs:[],searchText:""}},methods:{async getStaff(){try{const a=await d.get("/nhan-vien/",{params:{page:this.page}});this.staffs=a.data.content,this.totalPages=a.data.page.totalPages}catch(a){console.error("Error fetching blogs:",a)}},search(){try{d.get("/nhan-vien/",{params:{page:this.page,text:this.searchText}}).then(a=>{this.staffs=a.data.content,this.totalPages=a.data.page.totalPages,console.log(a.data)})}catch(a){console.error("Error searching blogs:",a)}},prePage(){this.page--,this.searchText!==""&&this.search(),this.getStaff()},nextPage(){this.page++,this.searchText!==""&&this.search(),this.getStaff()},deleteStaff(a){confirm("Bạn có chắc chắn muốn xóa nhân viên này không?")&&d.delete(`/nhan-vien/${a}`).then(()=>{this.getStaff()})}},mounted(){this.getStaff()}},P={class:"container mt-2 mb-5"},N={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb",class:"ps-1 pt-1"},V={class:"breadcrumb"},B={class:"breadcrumb-item"},C={class:"row mt-3"},M={class:"col-3 border-end"},D={class:"col-9"},K={class:"row"},E={class:"col-6"},j={class:"col-6"},F={class:"d-flex"},z={class:"input-group mb-2"},I={class:"row"},L={class:"table align-middle mb-0 bg-white"},Q=["onClick"],U={class:"row"},X={class:"row d-flex justify-content-end align-items-end mt-5"},q={class:"col-4"},A={"aria-label":"Page navigation example"},G={class:"pagination float-end"},H={class:"page-item"},J={class:"page-link",href:"#"};function O(a,e,R,W,i,n){const h=m("router-link"),f=m("ManagerSideBar");return c(),l("main",null,[t("div",P,[t("nav",N,[t("ol",V,[t("li",B,[r(h,{to:{name:"manager"}},{default:g(()=>e[5]||(e[5]=[b("Quản lý")])),_:1})]),e[6]||(e[6]=t("li",{class:"breadcrumb-item active","aria-current":"page"},"Tài khoản nhân viên",-1))])]),t("div",C,[t("div",M,[r(f)]),t("div",D,[t("div",K,[t("div",E,[r(h,{class:"btn btn-success",to:{name:"manager-add-staff"}},{default:g(()=>e[7]||(e[7]=[b("Thêm nhân viên")])),_:1})]),t("div",j,[t("div",F,[t("form",{onSubmit:e[2]||(e[2]=u((...s)=>n.search&&n.search(...s),["prevent"])),class:"modal-content modal-body border-0 p-0"},[t("div",z,[x(t("input",{type:"text",class:"form-control",id:"inputModalSearch","onUpdate:modelValue":e[0]||(e[0]=s=>i.searchText=s),onKeyup:e[1]||(e[1]=S((...s)=>n.search&&n.search(...s),["enter"])),placeholder:"Tìm kiếm"},null,544),[[k,i.searchText]]),e[8]||(e[8]=t("button",{type:"submit",class:"input-group-text bg-success text-light"},[t("i",{class:"fa fa-fw fa-search text-white"})],-1))])],32)])])]),t("div",I,[t("table",L,[e[9]||(e[9]=t("thead",{class:"bg-light"},[t("tr",null,[t("th",null,"ID"),t("th",null,"Tên nhân viên"),t("th",null,"SDT"),t("th",null,"Tên đăng nhập"),t("th",null,"Email"),t("th")])],-1)),t("tbody",null,[(c(!0),l(T,null,y(i.staffs,s=>(c(),l("tr",{key:s.maNhanVien},[t("td",null,o(s.maNhanVien),1),t("td",null,o(s.tenNhanVien),1),t("td",null,o(s.taiKhoan.soDienThoai),1),t("td",null,o(s.taiKhoan.tenDangNhap),1),t("td",null,o(s.taiKhoan.email),1),t("td",null,[t("button",{type:"button",class:"btn btn-danger btn-sm btn-rounded",onClick:u(Y=>n.deleteStaff(s.maNhanVien),["prevent"])}," Xóa ",8,Q)])]))),128))])])]),t("div",U,[t("div",X,[t("div",q,[t("nav",A,[t("ul",G,[t("li",{class:p(["page-item",{disabled:i.page==0}])},[t("button",{onClick:e[3]||(e[3]=(...s)=>n.prePage&&n.prePage(...s)),class:"page-link"},"Trước")],2),t("li",H,[t("a",J,o(i.page+1),1)]),t("li",{class:p(["page-item",{disabled:i.page>=i.totalPages-1}])},[t("button",{onClick:e[4]||(e[4]=(...s)=>n.nextPage&&n.nextPage(...s)),class:"page-link"},"Sau")],2)])])])])])])])])])}const tt=v(w,[["render",O]]);export{tt as default};
