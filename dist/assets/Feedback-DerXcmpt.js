import{_ as u,c as r,a as e,t as o,w as p,F as b,k as _,e as m,b as f,v as h,i as g,h as k,o as c,n as w}from"./index-C2DzRLYs.js";const v={data(){return{maKhuDuLich:this.$route.params.maKhuDuLich,rating:0,comment:"",name:"",warning:""}},methods:{setRating(s){this.rating=s},async submitFeedback(){if(this.containsBadWords(this.comment))this.warning="Bình luận chứa từ ngữ không phù hợp!";else try{(await k.post("/danh-gia/",{maKhuDuLich:this.maKhuDuLich,diemSo:this.rating,binhLuan:this.comment,ten:this.name})).status===200?(alert("Cảm ơn bạn đã gửi đánh giá!"),this.$router.push({name:"trang-chu"})):alert("Đã có lỗi xảy ra, vui lòng thử lại sau.")}catch(s){console.error("Error submitting feedback:",s)}},containsBadWords(s){const n=["địt","đéo","lồn","ngu","chó","fuck","shit"],l=s.toLowerCase().replace(/[^\w\sÀ-ỹ]/gi,"");return n.some(d=>l.includes(d))}}},y={class:"container"},L={class:"row"},B={class:"mb-4 fw-bold text-center mt-3"},C={class:"card p-3"},D={class:"text-center fs-6 fw-medium"},F={class:"mb-3 rating"},x=["onClick"],V={class:"mb-3"},K=["placeholder"],N={key:0,style:{color:"red"}},S={class:"mb-3"},W={for:"name",class:"form-label"},$={class:"text-secondary"},z={type:"submit",class:"btn btn-success w-100"};function E(s,n,l,d,a,i){return c(),r("main",null,[e("div",y,[e("div",L,[e("h2",B,o(s.$t("feedback-head")),1),e("div",C,[e("form",{onSubmit:n[2]||(n[2]=p((...t)=>i.submitFeedback&&i.submitFeedback(...t),["prevent"]))},[e("p",D,o(s.$t("think")),1),e("div",F,[(c(),r(b,null,_(5,t=>e("i",{key:t,class:w(["fa-star",a.rating>=t?"fa-solid":"fa-regular","fa","star"]),onClick:M=>i.setRating(t)},null,10,x)),64))]),e("div",V,[m(e("textarea",{class:"form-control",id:"comment",rows:"4","onUpdate:modelValue":n[0]||(n[0]=t=>a.comment=t),placeholder:s.$t("think-place"),required:""},null,8,K),[[h,a.comment]]),a.warning?(c(),r("p",N,o(a.warning),1)):f("",!0)]),e("div",S,[e("label",W,[g(o(s.$t("username"))+" ",1),e("span",$,"("+o(s.$t("optional"))+")",1)]),m(e("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":n[1]||(n[1]=t=>a.name=t)},null,512),[[h,a.name]])]),e("button",z,o(s.$t("send-fb")),1)],32)])])])])}const T=u(v,[["render",E],["__scopeId","data-v-58c4f38c"]]);export{T as default};
