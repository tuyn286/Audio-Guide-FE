import{_ as f,c,a as t,d as h,g as m,r as b,t as r,w as v,e as x,v as y,j as w,F as T,k,n as u,h as p,o as d,i as _}from"./index-C2DzRLYs.js";const P={name:"BlogsView",data(){return{blogs:[],page:0,totalPages:0,searchText:""}},methods:{async getBlogs(){try{const s=await p.get("/bai-viet/",{params:{page:this.page}});this.blogs=s.data.content.map(e=>({...e,ngayTao:this.formatTimeAgo(e.ngayTao)})),this.totalPages=s.data.page.totalPages}catch(s){console.error("Error fetching blogs:",s)}},search(){try{p.get("/bai-viet/",{params:{page:this.page,text:this.searchText}}).then(s=>{this.blogs=s.data.content.map(e=>({...e,ngayTao:this.formatTimeAgo(e.ngayTao)})),this.totalPages=s.data.page.totalPages})}catch(s){console.error("Error searching blogs:",s)}},prePage(){this.page--,this.searchText!==""&&this.search(),this.getBlogs()},nextPage(){this.page++,this.searchText!==""&&this.search(),this.getBlogs()},formatTimeAgo(s){const e=new Date,n=new Date(s),l=e-n,i=Math.floor(l/(1e3*60*60)),o=Math.floor(l/(1e3*60*60*24));return o===0?i===0?"Vừa xong":`${i} giờ trước`:o<7?o===1?"1 ngày trước":`${o} ngày trước`:n.toLocaleDateString("vi-VN")}},mounted(){this.getBlogs()},computed:{}},B={class:"container"},D={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb",class:"ps-1 pt-1"},V={class:"breadcrumb"},M={class:"breadcrumb-item"},C={class:"breadcrumb-item active","aria-current":"page"},L={class:"row text-center py-3"},N={class:"col-lg-12"},S={class:"h1"},j={class:"row"},A={class:"d-flex col-lg-4 col-sm-12 justify-content-end align-items-center mb-3"},E={class:"input-group mb-2"},K=["placeholder"],F={class:"row"},z={class:"card h-100"},H=["src"],I={class:"card-body"},U={class:"card-text text-muted mb-0"},Y={class:"card-text text-muted mt-0"},q={class:"row"},G={class:"row d-flex justify-content-end align-items-end mt-5"},J={class:"col-4"},O={"aria-label":"Page navigation example"},Q={class:"pagination float-end"},R={class:"page-item"},W={class:"page-link",href:"#"};function X(s,e,n,l,i,o){const g=b("router-link");return d(),c("main",null,[t("section",null,[t("div",B,[t("nav",D,[t("ol",V,[t("li",M,[h(g,{to:{name:"trang-chu"}},{default:m(()=>[_(r(s.$t("nav-1")),1)]),_:1})]),t("li",C,r(s.$t("nav-3")),1)])]),t("div",L,[t("div",N,[t("h1",S,r(s.$t("blog-header")),1)])]),t("div",j,[e[6]||(e[6]=t("div",{class:"col-lg-8 col-sm-12"},null,-1)),t("div",A,[t("form",{onSubmit:e[2]||(e[2]=v((...a)=>o.search&&o.search(...a),["prevent"])),class:"modal-content modal-body border-0 p-0"},[t("div",E,[x(t("input",{type:"text",class:"form-control",id:"inputModalSearch","onUpdate:modelValue":e[0]||(e[0]=a=>i.searchText=a),onKeyup:e[1]||(e[1]=w((...a)=>o.search&&o.search(...a),["enter"])),placeholder:s.$t("search-placeholder")},null,40,K),[[y,i.searchText]]),e[5]||(e[5]=t("button",{type:"submit",class:"input-group-text bg-success text-light"},[t("i",{class:"fa fa-fw fa-search text-white"})],-1))])],32)])]),t("div",F,[(d(!0),c(T,null,k(i.blogs,a=>(d(),c("div",{class:"col-12 col-md-4 mb-4",key:a.maBaiViet},[t("div",z,[t("iframe",{src:a.duongDanYoutube||"about:blank",frameborder:"0",allowfullscreen:"",class:"youtube-iframe"},null,8,H),t("div",I,[h(g,{style:{"min-height":"60px",display:"block"},to:{name:"bai-viet-detail",params:{maBaiViet:a.maBaiViet}},id:"blog-title",class:"fs-5 text-decoration-none text-dark fw-bold"},{default:m(()=>[_(r(a.tieuDe),1)]),_:2},1032,["to"]),t("p",U,r(a.khuDuLich.tenKhuDuLich),1),t("p",Y,r(a.ngayTao),1)])])]))),128))]),t("div",q,[t("div",G,[t("div",J,[t("nav",O,[t("ul",Q,[t("li",{class:u(["page-item",{disabled:i.page==0}])},[t("button",{onClick:e[3]||(e[3]=(...a)=>o.prePage&&o.prePage(...a)),class:"page-link"},r(s.$t("prepage")),1)],2),t("li",R,[t("a",W,r(i.page+1),1)]),t("li",{class:u(["page-item",{disabled:i.page>=i.totalPages-1}])},[t("button",{onClick:e[4]||(e[4]=(...a)=>o.nextPage&&o.nextPage(...a)),class:"page-link"},r(s.$t("nextpage")),1)],2)])])])])])])])])}const $=f(P,[["render",X],["__scopeId","data-v-5b412dd9"]]);export{$ as default};
