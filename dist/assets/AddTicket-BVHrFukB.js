import{_ as f,c as b,a as t,i as a,t as d,w as r,n as m,e as v,v as w,h as p,o as V}from"./index-C2DzRLYs.js";const _={data(){return{tongTien:"",soLuong:1,nhanVien:{}}},computed:{tongTien(){var s;return((s=this.nhanVien.khuDuLich)==null?void 0:s.giaVe)*this.soLuong||0}},methods:{increase(){this.soLuong++},decrease(){this.soLuong--},async addHoaDon(){var s;try{const n=await p.post("/ve/",{giaVe:(s=this.nhanVien.khuDuLich)==null?void 0:s.giaVe,soLuong:this.soLuong},{responseType:"blob"}),c=window.URL.createObjectURL(new Blob([n.data])),i=document.createElement("a");i.href=c,i.setAttribute("download",this.maKDL+"_"+this.soLuong+"_"+this.tongTien+".pdf"),document.body.appendChild(i),i.click(),document.body.removeChild(i)}catch(n){console.error(n)}},async getNhanVien(){try{const s=await p.get("/nhan-vien/xem-thong-tin");this.nhanVien=s.data,console.log(this.nhanVien)}catch(s){console.error(s)}}},mounted(){this.getNhanVien()}},L={class:"container mt-5 mb-5"},y={class:"row d-flex justify-content-center align-items-center p-5"},x={class:"col-6"},D={class:"card p-3"},T={class:"card-body"},k={class:"fw-bold fs-5 fst-italic"},N={class:"fst-italic fw-bold fs-5"},S={class:"fst-italic fw-bold fs-5"},C={class:"row g-3 mb-2"},B={class:"col-12"},j={class:"row justify-content-start align-items-center"},H={class:"col-2"},K={class:"col-2"},U={class:"col-2"},q={class:"col-12"},A=["value"];function E(s,n,c,i,l,e){var u,h,g;return V(),b("main",null,[t("section",null,[t("div",L,[t("div",y,[t("div",x,[t("div",D,[t("div",T,[n[10]||(n[10]=t("h4",{class:"card-title text-center fw-bold text-uppercase fs-3"}," Tạo vé thuyết minh ",-1)),t("p",null,[n[4]||(n[4]=a(" Khu du lịch: ")),t("span",k,d((u=l.nhanVien.khuDuLich)==null?void 0:u.tenKhuDuLich),1)]),t("p",null,[n[5]||(n[5]=a(" Nhân viên: ")),t("span",N,d((h=l.nhanVien)==null?void 0:h.tenNhanVien),1)]),t("p",null,[n[6]||(n[6]=a(" Giá vé: ")),t("span",S,d((g=l.nhanVien.khuDuLich)==null?void 0:g.giaVe.toLocaleString("vn-VN"))+"VND",1)]),t("form",{onSubmit:n[3]||(n[3]=r((...o)=>e.addHoaDon&&e.addHoaDon(...o),["prevent"]))},[t("div",C,[t("div",B,[n[7]||(n[7]=t("label",{for:""},[a("Số lượng vé "),t("span",{class:"text-danger"},"*")],-1)),t("div",j,[t("div",H,[t("button",{class:m(["btn btn-outline-success w-100 fw-bold",{disabled:this.soLuong===1}]),onClick:n[0]||(n[0]=r((...o)=>e.decrease&&e.decrease(...o),["prevent"]))},"-",2)]),t("div",K,[v(t("input",{class:"form-control fs-5 text-center fw-bold text-danger",type:"number",id:"quantity","onUpdate:modelValue":n[1]||(n[1]=o=>l.soLuong=o),placeholder:"Số lượng",required:""},null,512),[[w,l.soLuong]])]),t("div",U,[t("button",{class:"btn btn-outline-success w-100 fw-bold",onClick:n[2]||(n[2]=r((...o)=>e.increase&&e.increase(...o),["prevent"]))},"+")])])]),t("div",q,[n[8]||(n[8]=t("label",{for:""},[a("Thành tiền (VND) "),t("span",{class:"text-danger"},"*")],-1)),t("input",{class:"form-control fw-bold text-danger fs-4",type:"number",id:"total",value:e.tongTien.toLocaleString("vn-VN"),placeholder:"Tổng tiền",readonly:""},null,8,A)])]),n[9]||(n[9]=t("button",{class:"btn btn-success float-end mt-3 px-5",type:"submit"}," Tạo ",-1))],32)])])])])])])])}const R=f(_,[["render",E]]);export{R as default};
