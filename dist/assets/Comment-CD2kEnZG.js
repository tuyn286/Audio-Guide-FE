import{A as b}from"./AdminSideBar-CFQq7O3-.js";import{_ as f,c as r,a as t,d as m,g as v,r as g,F as y,k as C,n as h,t as i,h as u,o as d,i as k,w}from"./index-C2DzRLYs.js";const x={components:{AdminSideBar:b},data(){return{page:0,totalPages:0,comments:[]}},methods:{async getComment(){try{const a=await u.get("/danh-gia/",{params:{page:this.page}});this.comments=a.data.content,this.comments=this.comments.map(e=>({...e,ngayTao:this.formatTimeAgo(e.ngayTao)})),this.totalPages=a.data.page.totalPages}catch(a){console.error("Error fetching comments:",a)}},prePage(){this.page--,this.getComment()},nextPage(){this.getComment()},deleteComment(a){confirm("Bạn có chắc chắn muốn xóa đánh giá này không?")&&u.delete(`/danh-gia/${a}`).then(()=>{this.getComment()})},formatTimeAgo(a){const e=new Date,c=new Date(a),l=e-c,s=Math.floor(l/(1e3*60*60)),o=Math.floor(l/(1e3*60*60*24));return o===0?s===0?"Vừa xong":`${s} giờ trước`:o===1?"1 ngày trước":`${o} ngày trước`}},mounted(){this.getComment()}},P={class:"container mt-2 mb-5"},T={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb",class:"ps-1 pt-1"},B={class:"breadcrumb"},D={class:"breadcrumb-item"},A={class:"row mt-3"},N={class:"col-3 border-end"},S={class:"col-9"},K={class:"row"},M={class:"table align-middle mb-0 bg-white"},V=["onClick"],G={class:"row"},E={class:"row d-flex justify-content-end align-items-end mt-5"},F={class:"col-4"},L={"aria-label":"Page navigation example"},j={class:"pagination float-end"},z={class:"page-item"},H={class:"page-link",href:"#"};function Q(a,e,c,l,s,o){const _=g("router-link"),p=g("AdminSideBar");return d(),r("main",null,[t("div",P,[t("nav",T,[t("ol",B,[t("li",D,[m(_,{to:{name:"admin"}},{default:v(()=>e[2]||(e[2]=[k("Quản lý")])),_:1})]),e[3]||(e[3]=t("li",{class:"breadcrumb-item active","aria-current":"page"},"Đánh giá",-1))])]),t("div",A,[t("div",N,[m(p)]),t("div",S,[t("div",K,[t("table",M,[e[4]||(e[4]=t("thead",{class:"bg-light"},[t("tr",null,[t("th"),t("th",null,"Nội dung"),t("th",null,"Điểm số"),t("th",null,"Người đánh giá"),t("th",null,"Ngày tạo"),t("th")])],-1)),t("tbody",null,[(d(!0),r(y,null,C(s.comments,n=>(d(),r("tr",{key:s.comments.maDanhGia},[t("td",null,i(n.maDanhGia),1),t("td",null,i(n.binhLuan),1),t("td",null,i(n.diemSo),1),t("td",null,i(n.taiKhoan.tenTaiKhoan?n.taiKhoan.tenTaiKhoan:"Ẩn danh"),1),t("td",null,i(n.ngayTao),1),t("td",null,[t("button",{type:"button",class:"btn btn-danger btn-sm btn-rounded",onClick:w(X=>o.deleteComment(n.maDanhGia),["prevent"])}," Xóa ",8,V)])]))),128))])])]),t("div",G,[t("div",E,[t("div",F,[t("nav",L,[t("ul",j,[t("li",{class:h(["page-item",{disabled:s.page==0}])},[t("button",{onClick:e[0]||(e[0]=(...n)=>o.prePage&&o.prePage(...n)),class:"page-link"},"Trước")],2),t("li",z,[t("a",H,i(s.page+1),1)]),t("li",{class:h(["page-item",{disabled:s.page>=s.totalPages-1}])},[t("button",{onClick:e[1]||(e[1]=(...n)=>o.nextPage&&o.nextPage(...n)),class:"page-link"},"Sau")],2)])])])])])])])])])}const J=f(x,[["render",Q]]);export{J as default};
