import{M as b}from"./ManagerSideBar-eQhEIkbG.js";import{_ as f,c as r,a as t,d as m,g as v,r as g,F as y,k as C,n as h,t as i,h as u,o as d,i as k,w}from"./index-C2DzRLYs.js";const x={components:{ManagerSideBar:b},data(){return{page:0,totalPages:0,comments:[]}},methods:{async getComment(){try{const o=await u.get("/danh-gia/",{params:{page:this.page}});this.comments=o.data.content,this.comments=this.comments.map(e=>({...e,ngayTao:this.formatTimeAgo(e.ngayTao)})),this.totalPages=o.data.page.totalPages}catch(o){console.error("Error fetching comments:",o)}},prePage(){this.page--,this.getComment()},nextPage(){this.getComment()},deleteComment(o){confirm("Bạn có chắc chắn muốn xóa đánh giá này không?")&&u.delete(`/ve/${maVe}`).then(()=>{this.getComment()})},formatTimeAgo(o){const e=new Date,c=new Date(o),l=e-c,n=Math.floor(l/(1e3*60*60)),s=Math.floor(l/(1e3*60*60*24));return s===0?n===0?"Vừa xong":`${n} giờ trước`:s===1?"1 ngày trước":`${s} ngày trước`}},mounted(){this.getComment()}},P={class:"container mt-2 mb-5"},T={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb",class:"ps-1 pt-1"},D={class:"breadcrumb"},M={class:"breadcrumb-item"},B={class:"row mt-3"},N={class:"col-3 border-end"},S={class:"col-9"},V={class:"row"},G={class:"table align-middle mb-0 bg-white"},K=["onClick"],A={class:"row"},E={class:"row d-flex justify-content-end align-items-end mt-5"},F={class:"col-4"},L={"aria-label":"Page navigation example"},j={class:"pagination float-end"},z={class:"page-item"},H={class:"page-link",href:"#"};function Q(o,e,c,l,n,s){const _=g("router-link"),p=g("ManagerSideBar");return d(),r("main",null,[t("div",P,[t("nav",T,[t("ol",D,[t("li",M,[m(_,{to:{name:"manager"}},{default:v(()=>e[2]||(e[2]=[k("Quản lý")])),_:1})]),e[3]||(e[3]=t("li",{class:"breadcrumb-item active","aria-current":"page"},"Đánh giá",-1))])]),t("div",B,[t("div",N,[m(p)]),t("div",S,[t("div",V,[t("table",G,[e[4]||(e[4]=t("thead",{class:"bg-light"},[t("tr",null,[t("th"),t("th",null,"Nội dung"),t("th",null,"Điểm số"),t("th",null,"Người đánh giá"),t("th",null,"Ngày tạo"),t("th")])],-1)),t("tbody",null,[(d(!0),r(y,null,C(n.comments,a=>(d(),r("tr",{key:n.comments.maDanhGia},[t("td",null,i(a.maDanhGia),1),t("td",null,i(a.binhLuan),1),t("td",null,i(a.diemSo),1),t("td",null,i(a.taiKhoan.tenTaiKhoan?a.taiKhoan.tenTaiKhoan:"Ẩn danh"),1),t("td",null,i(a.ngayTao),1),t("td",null,[t("button",{type:"button",class:"btn btn-danger btn-sm btn-rounded",onClick:w(X=>s.deleteComment(a.maDanhGia),["prevent"])}," Xóa ",8,K)])]))),128))])])]),t("div",A,[t("div",E,[t("div",F,[t("nav",L,[t("ul",j,[t("li",{class:h(["page-item",{disabled:n.page==0}])},[t("button",{onClick:e[0]||(e[0]=(...a)=>s.prePage&&s.prePage(...a)),class:"page-link"},"Trước")],2),t("li",z,[t("a",H,i(n.page+1),1)]),t("li",{class:h(["page-item",{disabled:n.page>=n.totalPages-1}])},[t("button",{onClick:e[1]||(e[1]=(...a)=>s.nextPage&&s.nextPage(...a)),class:"page-link"},"Sau")],2)])])])])])])])])])}const J=f(x,[["render",Q]]);export{J as default};
