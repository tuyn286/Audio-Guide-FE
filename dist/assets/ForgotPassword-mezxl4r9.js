import{_ as u,c as e,a as s,w as m,e as i,v as a,h as p,o as d}from"./index-C2DzRLYs.js";const b={data(){return{email:"",newPassword:"",newPasswordConfirm:"",token:this.$route.params.token||null}},methods:{async handleLogin(){try{const n=await p.get("/tai-khoan/quen-mat-khau",{params:{email:this.email}});if(n.status!==200)throw new Error("Failed");alert(n.data)}catch(n){console.error("Error:",n)}},async changePassword(){if(this.newPassword!==this.newPasswordConfirm){alert("Mật khẩu không khớp!");return}localStorage.setItem("access_token",this.token);try{if((await p.post("/tai-khoan/doi-mat-khau?password="+this.newPassword)).status!==200)throw new Error("Failed");alert("Đặt lại mật khẩu thành công!"),this.$router.push({name:"login"}).then(()=>{window.location.reload()})}catch(n){console.error("Error:",n)}}}},f={class:"vh-100"},c={class:"container py-5 h-100"},w={class:"row d-flex justify-content-center align-items-center h-100"},g={class:"col col-xl-10"},h={class:"card",style:{"border-radius":"1rem"}},k={class:"row g-0"},v={class:"col-md-6 col-lg-7 d-flex align-items-center"},y={class:"card-body p-4 p-lg-5 text-black"},x={"data-mdb-input-init":"",class:"form-outline mb-4"},P={"data-mdb-input-init":"",class:"form-outline mb-4"},E={"data-mdb-input-init":"",class:"form-outline mb-4"};function V(n,t,C,M,l,r){return d(),e("main",null,[s("section",f,[s("div",c,[s("div",w,[s("div",g,[s("div",h,[s("div",k,[t[14]||(t[14]=s("div",{class:"col-md-6 col-lg-5 d-none d-md-block"},[s("img",{src:"",alt:"login form",class:"img-fluid",style:{"border-radius":"1rem 0 0 1rem"}})],-1)),s("div",v,[s("div",y,[this.token===null?(d(),e("form",{key:0,onSubmit:t[1]||(t[1]=m((...o)=>r.handleLogin&&r.handleLogin(...o),["prevent"]))},[t[6]||(t[6]=s("div",{class:"d-flex align-items-center mb-3 pb-1"},[s("span",{class:"h1 fw-bold mb-0"},"Thuyết minh tự động")],-1)),t[7]||(t[7]=s("h5",{class:"fw-normal mb-3 pb-3",style:{"letter-spacing":"1px"}}," Quên mật khẩu ",-1)),s("div",x,[i(s("input",{type:"email",id:"form2Example17",class:"form-control form-control-lg","onUpdate:modelValue":t[0]||(t[0]=o=>l.email=o)},null,512),[[a,l.email]]),t[5]||(t[5]=s("label",{class:"form-label",for:"form2Example17"},"Vui lòng nhập email đã đăng ký",-1))]),t[8]||(t[8]=s("div",{class:"pt-1 mb-4"},[s("button",{"data-mdb-button-init":"","data-mdb-ripple-init":"",class:"btn btn-dark btn-lg btn-block",type:"submit"}," Gửi yêu cầu đến email ")],-1))],32)):(d(),e("form",{key:1,onSubmit:t[4]||(t[4]=m((...o)=>r.changePassword&&r.changePassword(...o),["prevent"]))},[t[11]||(t[11]=s("div",{class:"d-flex align-items-center mb-3 pb-1"},[s("span",{class:"h1 fw-bold mb-0"},"Thuyết minh tự động")],-1)),t[12]||(t[12]=s("h5",{class:"fw-normal mb-3 pb-3",style:{"letter-spacing":"1px"}}," Đặt lại mật khẩu ",-1)),s("div",P,[i(s("input",{type:"password",class:"form-control form-control-lg","onUpdate:modelValue":t[2]||(t[2]=o=>l.newPassword=o)},null,512),[[a,l.newPassword]]),t[9]||(t[9]=s("label",{class:"form-label",for:"form2Example17"},"Mật khẩu mới",-1))]),s("div",E,[i(s("input",{type:"password",class:"form-control form-control-lg","onUpdate:modelValue":t[3]||(t[3]=o=>l.newPasswordConfirm=o)},null,512),[[a,l.newPasswordConfirm]]),t[10]||(t[10]=s("label",{class:"form-label",for:"form2Example17"},"Nhập lại mật khẩu",-1))]),t[13]||(t[13]=s("div",{class:"pt-1 mb-4"},[s("button",{"data-mdb-button-init":"","data-mdb-ripple-init":"",class:"btn btn-dark btn-lg btn-block",type:"submit"}," Đặt lại ")],-1))],32))])])])])])])])])])}const F=u(b,[["render",V]]);export{F as default};
